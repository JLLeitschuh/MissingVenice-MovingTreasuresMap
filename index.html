<!DOCTYPE html>
<html>
	<head>
		<title>Polyline with arrows</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<style type="text/css">
			html { height: 100% }
			body { height: 100%; margin: 0; padding: 0 }
			#map-canvas { width:100%; height:100% }
		</style>
		<link rel="stylesheet" type="text/css" href="css/elements.css">
		<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
		<script src="js/vendor/jquery.js"></script>
		<script src="js/foundation/foundation.js"></script>
		<script src="js/foundation/foundation.slider.js"></script>
		<script type="text/javascript">
			var map = null;
			var lineSymbol = null;
			var heartOfVenice = new google.maps.LatLng(45.4375315,12.3284537);
			
			
			function HomeControl(controlDiv, map) {
				// Set CSS styles for the DIV containing the control
				// Setting padding to 5 px will offset the control
				// from the edge of the map.
				controlDiv.style.padding = '5px';
			
				// Set CSS for the control border.
				var controlUI = document.createElement('div');
				controlUI.style.backgroundColor = 'white';
				controlUI.style.borderStyle = 'solid';
				controlUI.style.borderWidth = '2px';
				controlUI.style.cursor = 'pointer';
				controlUI.style.textAlign = 'center';
				controlUI.title = 'Click to set the map to Home';
				controlDiv.appendChild(controlUI);
			
				// Set CSS for the control interior.
				var controlText = document.createElement('div');
				controlText.style.fontFamily = 'Arial,sans-serif';
				controlText.style.fontSize = '12px';
				controlText.style.paddingLeft = '4px';
				controlText.style.paddingRight = '4px';
				controlText.innerHTML = '<strong>Venice</strong>';
				controlUI.appendChild(controlText);
			
				// Setup the click event listeners: simply set the map to Venice.
				google.maps.event.addDomListener(controlUI, 'click', function() {
					map.setCenter(heartOfVenice);
					map.setZoom(14);
				});
			}
			
			function TimeLineSlider(controlDiv, map){
				controlDiv.style.padding = '5px';
				
				
				var timeLineUI = document.getElementById('slider');
				controlDiv.appendChild(timeLineUI);
				
				google.maps.event.addDomListener(controlDiv, 'click', function() {
					/*map.setCenter(heartOfVenice);
					map.setZoom(14);*/
				});
			}
			
			function createPathPolyline(path, color) {
				return new google.maps.Polyline({
					path: path,
					strokeColor: color,
					strokeOpacity: 0.5,
					strokeWeight: 2,
					geodesic: true, //set to false if you want straight line instead of arc
					map: map,
					icons: [{
						icon: lineSymbol,
						offset: '100%'
					}]
				});
			}
			
			function initialize() {
				var myOptions = {
					zoom: 5,
					center: heartOfVenice,
					mapTypeId: google.maps.MapTypeId.ROADMAP
				};
				this.map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
				
				
				// HOME BUTTON
				// Create the DIV to hold the control and call the HomeControl() constructor
				// passing in this DIV.
				var homeControlDiv = document.createElement('div');
				var homeControl = new HomeControl(homeControlDiv, map);
			
				homeControlDiv.index = 1;
				map.controls[google.maps.ControlPosition.TOP_RIGHT].push(homeControlDiv);
				// END HOME BUTTON
				
				
				// TIMELINE
				// Creates the DIV to hold the timeline
				var timelineControlDiv = document.createElement('div');
				var timeLineControl = new TimeLineSlider(timelineControlDiv, map);
				
				timeLineControl.index = 0;
				map.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(timelineControlDiv);
				// END TIMELINE
				
				// DATA FOR THE INDIVIDUAL PEICES OF ART
				var bronzeHorsePath = [
					new google.maps.LatLng(41.0148235,28.977071),
					new google.maps.LatLng(45.434805,12.340067),
					new google.maps.LatLng(48.873781,2.295026),
					new google.maps.LatLng(45.4345034,12.3400147)
				];

				var feastOfTheRosaryPath = [
					new google.maps.LatLng(45.437731, 12.336229),
					new google.maps.LatLng(50.088003,14.42175)
				];
				
				this.lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_OPEN_ARROW,
					strokeColor: '#FF0000',
					strokeOpacity: 1.0
				};

				var bronzeline = createPathPolyline(bronzeHorsePath, "#800000");
				var rosaryline = createPathPolyline(feastOfTheRosaryPath, "#FF3300");
				
				rosaryline.setMap(map);
				bronzeline.setMap(map);
			}

			google.maps.event.addDomListener(window, 'load', initialize);
		</script>
	</head>
	<body>
		<div id="map-canvas"></div>
		<div id="slider">
			<input class="bar" type="range" name="dates" min="500" max="2014" id="rangeinput" value="2014" onchange="rangevalue.value=value"/>
			<span class="highlight"></span>
			<output id="rangevalue">2014</output>
		</div>
	</body>
</html>
